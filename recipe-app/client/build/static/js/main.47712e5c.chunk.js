(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n(13),i=n.n(a),s=n(39),d=n(6),l=n(22),o=n(31),j=function(){return Object(r.jsx)(o.a,{bg:"light",variant:"light",children:Object(r.jsx)(o.a.Brand,{href:"/",children:"\u0420\u0435\u0446\u0435\u043f\u0442\u044b"})})},u=n(32),b=n(18),O=function(){return Object(r.jsx)("div",{className:"text-center w-100",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})},g=n(19),p=n(41),h=function(e){var t=e.ingredient,n=t._id,c=t.name,a=t.enName,i=e.onSelect,s=e.onRemove;return Object(r.jsxs)(g.a,{onClick:function(){return i&&i(n)},className:s?"removable-card":"",children:[Object(r.jsx)(g.a.Img,{variant:"top",src:"/".concat(a,".jpg"),alt:c,title:c}),Object(r.jsx)(g.a.Body,{className:"pt-0 pb-3",children:Object(r.jsx)(g.a.Text,{children:c})}),s&&Object(r.jsx)(p.a,{className:"remove-button",variant:"danger",onClick:function(){return s&&s(n)},children:"X"})]})},x=n(28),f=n.n(x),m=n(36),v="GET_INGREDIENTS",I="ADD_INGREDIENT",y="REMOVE_INGREDIENT",N="SET_INGREDIENT_LOADING",E="GET_RECIPES",_="SET_RECIPE_LOADING";function R(e){return{type:N,payload:e}}var T=Object(l.b)((function(e){return{ingredient:e.ingredient}}),{getIngredients:function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.prev=1,e.next=4,fetch("/api/ingredients");case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t({type:v,payload:r}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),t(R(!1));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},addIngredient:function(e){return{type:I,payload:e}},removeIngredient:function(e){return{type:y,payload:e}}})((function(e){var t=e.ingredient,n=t.loading,a=t.ingredients,i=t.selectedIngredients,s=e.getIngredients,d=e.addIngredient,l=e.removeIngredient,o=Object(c.useState)(""),j=Object(u.a)(o,2),g=j[0],p=j[1],x=Object(c.useState)([]),f=Object(u.a)(x,2),m=f[0],v=f[1];Object(c.useEffect)((function(){s()}),[s]);var I=function(e){d(e)},y=function(e){l(e)};return n||null===a?Object(r.jsx)(O,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{children:Object(r.jsxs)(b.a.Group,{controlId:"text",children:[Object(r.jsx)(b.a.Label,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(r.jsx)(b.a.Control,{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a...",onChange:function(e){p(e.target.value),v(a.filter((function(t){var n=t.name;return new RegExp(e.target.value.trim(),"ig").test(n)})))},value:g})]})}),Object(r.jsx)("div",{className:"ingredient-cards",children:(g.trim()?m:a).map((function(e){return Object(r.jsx)(h,{ingredient:e,onSelect:I},e._id)}))}),0!==i.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"mt-3 mb-2",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(r.jsx)("div",{className:"ingredient-cards",children:i.map((function(e){return Object(r.jsx)(h,{ingredient:e,onRemove:y},e._id)}))})]})]})})),w=function(){return Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("h1",{className:"large text-primary",children:"404"}),Object(r.jsx)("p",{className:"lead",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})},D=n(14),G=n(37),S=n(38),k=n(40),C=n(8),A={ingredients:null,selectedIngredients:[],loading:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(C.a)(Object(C.a)({},e),{},{ingredients:t.payload,loading:!1});case I:var n=e.selectedIngredients.some((function(e){return e._id===t.payload}));if(n)return Object(C.a)(Object(C.a)({},e),{},{loading:!1});var r=e.ingredients.find((function(e){return e._id===t.payload}));return Object(C.a)(Object(C.a)({},e),{},{selectedIngredients:[].concat(Object(k.a)(e.selectedIngredients),[r]),loading:!1});case y:return Object(C.a)(Object(C.a)({},e),{},{selectedIngredients:e.selectedIngredients.filter((function(e){return e._id!==t.payload})),loading:!1});case N:return Object(C.a)(Object(C.a)({},e),{},{loading:t.payload});default:return e}},F={recipes:null,loading:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(C.a)(Object(C.a)({},e),{},{recipes:t.payload,loading:!1});case _:return Object(C.a)(Object(C.a)({},e),{},{loading:t.payload});default:return e}},J=Object(D.combineReducers)({ingredient:B,recipe:L}),M=Object(D.createStore)(J,{},Object(G.composeWithDevTools)(Object(D.applyMiddleware)(S.a))),P=(n(53),n(54),function(){return Object(r.jsx)(l.a,{store:M,children:Object(r.jsx)(s.a,{children:Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(j,{}),Object(r.jsx)("section",{className:"container my-3",children:Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",component:T}),Object(r.jsx)(d.a,{component:w})]})})]})})})});i.a.render(Object(r.jsx)(P,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.47712e5c.chunk.js.map